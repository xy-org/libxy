import xytest;
import libxy.string;
import ..;

*func lenIntegerRanges~Test() {
    (equal) (0:0)'len, 0;
    (equal) (0:1)'len, 1;
    (equal) (0:-1)'len, 0;

    (equal) ( 0:Int'max )'len, Int'max'to(Uint);
    (equal) ( -1:Int'max )'len, Int'max'to(Uint) + 1;
    (equal) ( -10:Int'max )'len, Int'max'to(Uint) + 10;
    (equal) ( Int'min:0 )'len, Int'min'to(Uint);
    (equal) ( Int'min:1 )'len, Int'min'to(Uint) + 1;
    (equal) ( Int'min:Int'max )'len, Uint'max;
}

*func lenFloatingRanges~Test() {
    (equal) (.0:.0)'len, .0;
    (equal) (.0:3.14)'len, 3.14;

    ;; NOTE! Floating Pointe ranges can have negative length
    (equal) (3.0:1.0)'len, -2.0;
}
