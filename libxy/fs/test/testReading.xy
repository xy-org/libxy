import xy.ctti;
import libxy.memory;

*func reading~Test() {
    file := open('fileof, +readOnly);
    content := f"{file}";
    checkContent(content);
}

func checkContent(content: String) {
    (assert) content'memory.size > 100;
    (assert) content'startswith("import");
}

#func mmapFile~Test() {
#    file := open('fileof, +read);
#    mem := file'mmap;
#    content := String~External{mem, mem.size};
#    # ...
#}
#
#func readByChunks~Test() {
#    file := open('fileof, +read);
#
#    buffer: Memory;
#    buffer'realloc(64);; intentionally allocate a small buffer
#
#    while (file'read(buffer) > 0) {
#        # ...
#    }
#}



