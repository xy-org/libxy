*def testDirname~Test() {
    (equal) dirname("/basket/apples"), "/basket";
    (equal) dirname("/basket/apples/"), "/basket";
    (equal) dirname("/basket/apples//////"), "/basket";
    (equal) dirname("/basket///apples///"), "/basket";
    (equal) dirname("///basket/apples"), "///basket";

    (equal) dirname("/i/made/this/up"), "/i/made/this";

    (equal) dirname("/etc/config/."), "/etc/config";
    (equal) dirname("/etc/config/.."), "/etc/config";

    (equal) dirname(""), "";
    (equal) dirname("a"), "";
    (equal) dirname("ab"), "";
    (equal) dirname("file.txt"), "";
    (equal) dirname("subdir/file.txt"), "subdir";
    (equal) dirname("../file.txt"), "..";

    (equal) dirname("/"), "/";
    (equal) dirname("/a"), "/";

    (equal) dirname(".."), "";
    (equal) dirname("."), "";

    (equal) dirname("~"), "";
}

*def testDirnameNonLatin~Test() {
    (equal) dirname("/ĞºĞ¾ÑˆĞ½Ğ¸Ñ†Ğ°/ÑĞ±ÑŠĞ»ĞºĞ¸"), "/ĞºĞ¾ÑˆĞ½Ğ¸Ñ†Ğ°";
    (equal) dirname("å·å®—.txt"), "";
    (equal) dirname("é›ª"), "";
    (equal) dirname("~/home/.ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğ¹ Ñ„Ğ°Ğ¹Ğ»"), "~/home";
    (equal) dirname("ğŸ˜€/ğŸ’¯/ğŸŠ"), "ğŸ˜€/ğŸ’¯";
}

*def joiningPathStrs~Test() {
    (equal) path"dir/subdir", "dir/subdir";

    dir := "dir";
    subdir := "subdir";
    (equal) path"{dir}/{subdir}", "dir/subdir";

    absDir := "/root";
    (equal) path"{absDir}/{dir}/mydir", "/root/dir/mydir";

    (equal) path"{dir}/{subdir}/{absDir}", "/root";
}
