*def testDirname~Test() {
    (assert) dirname("/basket/apples") == "/basket";
    #(assert) dirname("/basket/apples/") == "/basket";
    #(assert) dirname("/basket/apples//////") == "/basket";
    #(assert) dirname("/basket///apples///") == "/basket";
    #(assert) dirname("///basket/apples") == "///basket";

    #(assert) dirname("/i/made/this/up") == "/i/made/this";
#
    #(assert) "/etc/config/." == "/etc/config";
    #(assert) "/etc/config/.." == "/etc/config";
#
    #(assert) "" == "";
    #(assert) "a" == "";
    #(assert) "file.txt" == "";
    #(assert) "subdir/file.txt" == "subdir";
    #(assert) "../file.txt" == "..";
#
    #(assert) "/" == "/";
}
